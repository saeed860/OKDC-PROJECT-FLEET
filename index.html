<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>داشبورد سوخت - زمستان ۱۴۰۳</title>

  <!-- کتابخانه Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- استفاده از فونت ایران سنس از CDN -->
  <link rel="stylesheet" href="https://cdn.sqp.ir/Plugins/fonts/IRANSansWeb/IRANSansWeb.css" />

  <style>
    body {
      font-family: IRANSansWeb, sans-serif;
      background: #f8f9fa;
      margin: 0;
      padding: 0;
      line-height: 1.8;
      color: #444;
    }

    /* نوار تب‌ها */
    .tabs {
      display: flex;
      justify-content: center;
      background: #007bff;
      flex-wrap: wrap;
      padding: 10px 0;
    }
    .tab {
      padding: 10px 20px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      margin: 0 5px;
    }
    .tab:hover, .tab.active {
      background: #0056b3;
    }
    .tab-content {
      display: none;
      padding: 20px;
    }
    .tab-content.active {
      display: block;
    }

    /* تاریخ در ابتدای تب‌ها */
    .date-text {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 10px;
    }

    /* محتوای اصلی هر تب */
    .container {
      max-width: 960px;
      margin: auto;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #007bff;
      margin-top: 20px;
      margin-bottom: 10px;
    }
    h2 {
      color: #007bff;
      border-bottom: 2px solid #007bff;
      padding-bottom: 8px;
      margin-top: 40px;
      font-size: 1.3rem;
    }
    h3 {
      color: #34495e;
      margin-top: 20px;
    }
    p {
      font-size: 1rem;
      margin: 10px 0;
    }
    canvas {
      margin: 20px 0;
      width: 100%;
      max-width: 100%;
      background: #fff;
      border-radius: 8px;
      padding: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
      margin-top: 20px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: center;
    }
    /* لوگو در ابتدای هر تب */
    .logo {
      display: block;
      margin: 0 auto 10px auto;
      height: 40px;
    }

    /* واکنش‌گرا */
    @media (max-width: 768px) {
      .tab {
        padding: 6px 12px;
        font-size: 0.9rem;
        margin: 2px;
      }
      .container {
        padding: 15px;
        font-size: 0.95rem;
      }
      h1 {
        font-size: 1.2rem;
        margin-top: 20px;
      }
      h2 {
        font-size: 1rem;
        margin-top: 30px;
      }
    }
  </style>
</head>

<body>
  <!-- نوار تب‌ها -->
  <div class="tabs">
    <div class="tab active" onclick="showTab('marsea2')">مارسی ۲</div>
    <div class="tab" onclick="showTab('rahgoshayan1')">رهگشایان ۱</div>
  </div>

  <!-- تب مارسی 2 -->
  <div id="marsea2" class="tab-content active">
    <div class="container">
      <!-- تاریخ در ابتدای تب مارسی2 -->
      <div class="date-text">۱۴۰۱/۰۱/۲۰ - 2022-04-09</div>

      <!-- لوگو بالای تب مارسی2 -->
      <img 
        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAUCAYAAADjzU3XAAAACXBIWXMAAC4jAAAuIwF4pT92AAABUUlEQVR4nO2Ya0/CQAyFfygEBgRBRRJo/T97v+q7V2C7QTAvyP1UUBzw8+8OB/oh1rYgD3qhnVc1HWT4vAaXGhKQz1QrgpwAQNVjESwgvksuJsWjiLGKwfwyTvXMMin+39jHL6b1a/g7dFoZf2ul6BfQR+tuJVmBrEAPXqcbYY6lS6riZpzrmxfhgBPL2m5Eq3NVZ7UnEU63mFPEomtd9ZgXbC8vPoB/6aX4AN9tr8CB5LujmkMA5ZcAi+IgUwJlBUDkAVKuGyIJAOmugEgTsWAcMNMJqwQEbBODVT73T72Iz8CjiOb0LzE8AoY3IE8pnBVyCSU30918pEJ4yJI4NhAYBYPR3F7B6ngapL6H1M+4It8KR29AjsA/cDY3yC3wMBQCxulwiNP5FYClUzsAbLoIIFq/h0d/3GgQUxS92AvkXRM6hTuyTgAAAABJRU5ErkJggg=="
        alt="Company Logo"
        class="logo"
      />

      <h1>گزارش روند دریافت، انتقال و مصرف سوخت - مارسی ۲ (زمستان ۱۴۰۳)</h1>

      <!-- تحلیل و گزارش با استایل رنگی برای دریافت/انتقال/مصرف -->
      <h2>تحلیل و گزارش روند دریافت، انتقال و مصرف سوخت</h2>
      <p>
        در سه ماهه زمستان ۱۴۰۳ (دی، بهمن و اسفند)، شناور مارسی ۲ عملکردی در زمینه 
        <span style="color:#2980b9;">دریافت</span>، 
        <span style="color:#c0392b;">انتقال</span> و 
        <span style="color:#f39c12;">مصرف</span> سوخت داشته است. در نمودارهای زیر، وضعیت هر ماه به تفکیک ارائه شده است. 
        همچنین نمودار خطی روند کل سه ماهه را نشان می‌دهد که می‌تواند جهت برنامه‌ریزی و مدیریت بهینه سوخت مورد استفاده قرار گیرد.
      </p>
      
      <!-- نمودارهای میله‌ای: هر ماه یک نمودار (سه بار) -->
      <h3>دی</h3>
      <p>در ماه <strong>دی</strong>، میزان 
        <span style='color:#2980b9;'>دریافت</span> سوخت <strong>۲۶۲.۴ لیتر</strong>، 
        <span style='color:#c0392b;'>انتقال</span> <strong>۳۰.۴ لیتر</strong> و 
        <span style='color:#f39c12;'>مصرف</span> <strong>۷۲.۴۲۵ لیتر</strong> ثبت شده است.
      </p>
      <canvas id="chart_دی"></canvas>

      <h3>بهمن</h3>
      <p>در ماه <strong>بهمن</strong>، میزان 
        <span style='color:#2980b9;'>دریافت</span> سوخت <strong>۱۴۵ لیتر</strong>، 
        <span style='color:#c0392b;'>انتقال</span> <strong>۱۳۹.۵ لیتر</strong> و 
        <span style='color:#f39c12;'>مصرف</span> <strong>۴۹.۶ لیتر</strong> ثبت شده است.
      </p>
      <canvas id="chart_بهمن"></canvas>

      <h3>اسفند</h3>
      <p>در ماه <strong>اسفند</strong>، میزان 
        <span style='color:#2980b9;'>دریافت</span> سوخت <strong>۵۱۳.۱۵ لیتر</strong>، 
        <span style='color:#c0392b;'>انتقال</span> <strong>۵۲۵ لیتر</strong> و 
        <span style='color:#f39c12;'>مصرف</span> <strong>۷۴.۴ لیتر</strong> ثبت شده است.
      </p>
      <canvas id="chart_اسفند"></canvas>

      <!-- نمودار روند سه ماهه -->
      <h2>نمودار روند ماهانه مصرف، دریافت و انتقال سوخت</h2>
      <canvas id="lineChartMarsea2"></canvas>

      <!-- راندمان مصرف سوخت و کارکرد تجهیزات مارسی 2 -->
      <h2>راندمان مصرف سوخت و کارکرد تجهیزات</h2>
      <p>در این بخش، ساعات کارکرد و مصرف سوخت تجهیزات مختلف شناور مارسی ۲ بررسی شده است. راندمان هر تجهیز بر اساس میزان مصرف سوخت به ازای هر ساعت فعالیت محاسبه شده است.</p>
      <table>
          <tr style='background:#eee; text-align:center;'>
              <th>نام تجهیز</th><th>ساعت کارکرد</th><th>مصرف سوخت (لیتر)</th><th>راندمان (لیتر/ساعت)</th>
          </tr>
          <tr>
              <td>GENERATOR NO.1</td>
              <td>100</td>
              <td>2000</td>
              <td>20.0</td>
          </tr>
          <tr>
              <td>GENERATOR NO.2</td>
              <td>100</td>
              <td>2000</td>
              <td>20.0</td>
          </tr>
          <tr>
              <td>MAIN ENGINE #1</td>
              <td>600</td>
              <td>72000</td>
              <td>120.0</td>
          </tr>
          <tr>
              <td>MAIN ENGINE #2</td>
              <td>600</td>
              <td>72000</td>
              <td>120.0</td>
          </tr>
          <tr>
              <td>BOW THRUSTER 1&amp;2</td>
              <td>240</td>
              <td>7200</td>
              <td>30.0</td>
          </tr>
      </table>
      <canvas id="efficiencyChartMarsea2"></canvas>

      <!-- نتیجه گیری -->
      <h2>جمع‌بندی و نتیجه‌گیری</h2>
      <p>
        داده‌های بالا حاکی از آن است که شناور مارسی ۲ در زمستان ۱۴۰۳ با دریافت مناسب سوخت در ماه‌های مختلف، مصرف و انتقال کنترل‌شده‌ای داشته است. بالاترین دریافت در اسفند و کمترین آن در بهمن ماه بوده است. 
        پیشنهاد می‌شود با توجه به مصرف نسبتا ثابت، برای بهبود ذخیره‌سازی به‌صورت پلکانی در طول فصل اقدام شود تا ریسک کمبود سوخت کاهش یابد.
      </p>
    </div>
  </div>

  <!-- تب رهگشایان 1 -->
  <div id="rahgoshayan1" class="tab-content">
    <div class="container">
      <!-- تاریخ در ابتدای تب رهگشایان1 -->
      <div class="date-text">۱۴۰۱/۰۱/۲۰ - 2022-04-09</div>

      <!-- لوگو بالای تب رهگشایان1 -->
      <img 
        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAUCAYAAADjzU3XAAAACXBIWXMAAC4jAAAuIwF4pT92AAABUUlEQVR4nO2Ya0/CQAyFfygEBgRBRRJo/T97v+q7V2C7QTAvyP1UUBzw8+8OB/oh1rYgD3qhnVc1HWT4vAaXGhKQz1QrgpwAQNVjESwgvksuJsWjiLGKwfwyTvXMMin+39jHL6b1a/g7dFoZf2ul6BfQR+tuJVmBrEAPXqcbYY6lS6riZpzrmxfhgBPL2m5Eq3NVZ7UnEU63mFPEomtd9ZgXbC8vPoB/6aX4AN9tr8CB5LujmkMA5ZcAi+IgUwJlBUDkAVKuGyIJAOmugEgTsWAcMNMJqwQEbBODVT73T72Iz8CjiOb0LzE8AoY3IE8pnBVyCSU30918pEJ4yJI4NhAYBYPR3F7B6ngapL6H1M+4It8KR29AjsA/cDY3yC3wMBQCxulwiNP5FYClUzsAbLoIIFq/h0d/3GgQUxS92AvkXRM6hTuyTgAAAABJRU5ErkJggg=="
        alt="Company Logo"
        class="logo"
      />

      <h1>گزارش روند دریافت، انتقال و مصرف سوخت - رهگشایان ۱ (زمستان ۱۴۰۳)</h1>

      <!-- تحلیل و گزارش (کپی سبک مارسی 2: رنگی) -->
      <h2>تحلیل و گزارش روند دریافت، انتقال و مصرف سوخت</h2>
      <p>
        در سه ماهه زمستان ۱۴۰۳ (دی، بهمن و اسفند)، شناور رهگشایان ۱ عملکردی در زمینه 
        <span style="color:#2980b9;">دریافت</span>، 
        <span style="color:#c0392b;">انتقال</span> و 
        <span style="color:#f39c12;">مصرف</span> سوخت داشته است. در نمودارهای زیر، وضعیت هر ماه به تفکیک ارائه شده است. 
        همچنین نمودار خطی روند کل سه ماهه را نشان می‌دهد که می‌تواند جهت برنامه‌ریزی و مدیریت بهینه سوخت مورد استفاده قرار گیرد.
      </p>

      <section>
          <h3>دی</h3>
          <p>در ماه <strong>دی</strong>، میزان 
            <span style='color:#2980b9;'>دریافت</span> سوخت <strong>243000 لیتر</strong>, 
            <span style='color:#c0392b;'>انتقال</span> <strong>35500 لیتر</strong> و 
            <span style='color:#f39c12;'>مصرف</span> <strong>65846 لیتر</strong> ثبت شده است.
          </p>
          <canvas id="chart_دی_رهگشایان"></canvas>
      </section>

      <section>
          <h3>بهمن</h3>
          <p>در ماه <strong>بهمن</strong>، میزان 
            <span style='color:#2980b9;'>دریافت</span> سوخت <strong>196344 لیتر</strong>, 
            <span style='color:#c0392b;'>انتقال</span> <strong>288500 لیتر</strong> و 
            <span style='color:#f39c12;'>مصرف</span> <strong>82815 لیتر</strong> ثبت شده است.
          </p>
          <canvas id="chart_بهمن_رهگشایان"></canvas>
      </section>

      <section>
          <h3>اسفند</h3>
          <p>در ماه <strong>اسفند</strong>، میزان 
            <span style='color:#2980b9;'>دریافت</span> سوخت <strong>145000 لیتر</strong>, 
            <span style='color:#c0392b;'>انتقال</span> <strong>103000 لیتر</strong> و 
            <span style='color:#f39c12;'>مصرف</span> <strong>55560 لیتر</strong> ثبت شده است.
          </p>
          <canvas id="chart_اسفند_رهگشایان"></canvas>
      </section>

      <h2>نمودار روند ماهانه مصرف، دریافت و انتقال سوخت</h2>
      <canvas id="areaTrendChartRahgoshayan"></canvas>

      <h2>راندمان مصرف سوخت و کارکرد تجهیزات</h2>
      <p>در این بخش، ساعات کارکرد و مصرف سوخت تجهیزات مختلف شناور رهگشایان ۱ بررسی شده است. راندمان هر تجهیز بر اساس میزان مصرف سوخت به ازای هر ساعت فعالیت محاسبه شده است.</p>
      <table>
          <tr style='background:#eee; text-align:center;'>
              <th>نام تجهیز</th><th>ساعت کارکرد</th><th>مصرف سوخت (لیتر)</th><th>راندمان (لیتر/ساعت)</th>
          </tr>
          <tr style='text-align:center;'>
              <td>GENERATOR NO.1</td>
              <td>120.0</td>
              <td>2250</td>
              <td>18.75</td>
          </tr>
          <tr style='text-align:center;'>
              <td>GENERATOR NO.2</td>
              <td>120.0</td>
              <td>2250</td>
              <td>18.75</td>
          </tr>
          <tr style='text-align:center;'>
              <td>MAIN ENGINE #1</td>
              <td>661.5</td>
              <td>79380</td>
              <td>120.0</td>
          </tr>
          <tr style='text-align:center;'>
              <td>MAIN ENGINE #2</td>
              <td>661.5</td>
              <td>79380</td>
              <td>120.0</td>
          </tr>
          <tr style='text-align:center;'>
              <td>BOW THRUSTER 1&amp;2</td>
              <td>238.5</td>
              <td>7155</td>
              <td>30.0</td>
          </tr>
      </table>
      <canvas id='efficiencyChartRahgoshayan'></canvas>

      <h2 class='section-title'>جمع‌بندی و تحلیل مقایسه‌ای سه‌ماهه</h2>
      <p>طی سه ماهه زمستان ۱۴۰۳، شناور رهگشایان ۱ نقش کلیدی در دریافت و انتقال سوخت ایفا کرده است. در دی‌ماه، با دریافت قابل‌توجهی از سوخت و مصرف متعادل، موجودی مناسبی ایجاد شد. بهمن‌ماه شاهد بیشترین حجم انتقال به دیگر شناورها بوده که نشان‌دهنده استفاده بهینه از ذخایر است. در اسفند، با کاهش دریافت، تمرکز بر مدیریت مصرف و حفظ تعادل موجودی بوده است.</p>
      <p><strong>نتیجه‌گیری:</strong> روند کلی نشان‌دهنده عملکرد باثبات در مصرف و انتقال، همراه با مدیریت منطقی منابع است. پیشنهاد می‌شود برای فصل آینده، ذخیره‌سازی برنامه‌ریزی‌شده‌تری در ابتدای فصل انجام شود تا وابستگی به دریافت میان‌دوره‌ای کاهش یابد.</p>
    </div>
  </div>

  <!-- داده‌های گراف‌ها -->
  <script>
    /* داده‌های مارسی ۲ */
    const marsea2BarData = {
      "دی": [262.4, 30.4, 72.425],
      "بهمن": [145.0, 139.5, 49.6],
      "اسفند": [513.15, 525.0, 74.4]
    };
    const marsea2LineData = {
      labels: ["دی", "بهمن", "اسفند"],
      datasets: [
        {
          label: "مصرف سوخت",
          data: [72.425, 49.6, 74.4],
          borderColor: "#f39c12",
          backgroundColor: "rgba(243, 156, 18, 0.2)",
          fill: true,
          tension: 0.3
        },
        {
          label: "دریافت سوخت",
          data: [262.4, 145.0, 513.15],
          borderColor: "#27ae60",
          backgroundColor: "rgba(39, 174, 96, 0.2)",
          fill: true,
          tension: 0.3
        },
        {
          label: "انتقال سوخت",
          data: [30.4, 139.5, 525.0],
          borderColor: "#2980b9",
          backgroundColor: "rgba(41, 128, 185, 0.2)",
          fill: true,
          tension: 0.3
        }
      ]
    };
    const marsea2EfficiencyData = {
      labels: ["GENERATOR NO.1", "GENERATOR NO.2", "MAIN ENGINE #1", "MAIN ENGINE #2", "BOW THRUSTER 1&2"],
      datasets: [{
        label: "راندمان (لیتر/ساعت)",
        data: [20, 20, 120, 120, 30], 
        backgroundColor: ["#1abc9c", "#3498db", "#f39c12", "#c0392b", "#8e44ad"]
      }]
    };

    /* داده‌های رهگشایان ۱ */
    const rahgoshayanBarData = {
      "دی": [243000, 35500, 65846],
      "بهمن": [196344, 288500, 82815],
      "اسفند": [145000, 103000, 55560]
    };
    const rahgoshayanLineData = {
      labels: ["دی", "بهمن", "اسفند"],
      datasets: [
        {
          label: "مصرف سوخت",
          data: [65846, 82815, 55560],
          borderColor: "#f39c12",
          backgroundColor: "rgba(243,156,18,0.2)",
          fill: true,
          tension: 0.3
        },
        {
          label: "دریافت سوخت",
          data: [243000, 196344, 145000],
          borderColor: "#27ae60",
          backgroundColor: "rgba(39,174,96,0.2)",
          fill: true,
          tension: 0.3
        },
        {
          label: "انتقال سوخت",
          data: [35500, 288500, 103000],
          borderColor: "#2980b9",
          backgroundColor: "rgba(41,128,185,0.2)",
          fill: true,
          tension: 0.3
        }
      ]
    };

    /* پیکربندی نمودارها */
    window.chartConfigs = {
      /* مارسی ۲: 3 نمودار میله‌ای و 1 خطی و 1 راندمان */
      "chart_دی": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت دی",
            data: marsea2BarData["دی"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - دی (مارسی ۲)" }
          }
        }
      },
      "chart_بهمن": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت بهمن",
            data: marsea2BarData["بهمن"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - بهمن (مارسی ۲)" }
          }
        }
      },
      "chart_اسفند": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت اسفند",
            data: marsea2BarData["اسفند"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - اسفند (مارسی ۲)" }
          }
        }
      },
      "lineChartMarsea2": {
        type: "line",
        data: marsea2LineData,
        options: {
          responsive: true,
          plugins: {
            legend: { position: "bottom" },
            title: {
              display: true,
              text: "نمودار روند سه ماهه (مارسی ۲)"
            }
          }
        }
      },
      "efficiencyChartMarsea2": {
        type: "bar",
        data: marsea2EfficiencyData,
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: {
              display: true,
              text: "نمودار راندمان مصرف سوخت (مارسی ۲)"
            }
          },
          scales: {
            y: { beginAtZero: true }
          }
        }
      },

      /* رهگشایان 1: 3 نمودار میله‌ای، 1 خطی و 1 راندمان */
      "chart_دی_رهگشایان": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت دی",
            data: rahgoshayanBarData["دی"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - دی (رهگشایان ۱)" }
          }
        }
      },
      "chart_بهمن_رهگشایان": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت بهمن",
            data: rahgoshayanBarData["بهمن"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - بهمن (رهگشایان ۱)" }
          }
        }
      },
      "chart_اسفند_رهگشایان": {
        type: "bar",
        data: {
          labels: ["دریافت", "انتقال", "مصرف"],
          datasets: [{
            label: "سوخت اسفند",
            data: rahgoshayanBarData["اسفند"],
            backgroundColor: ["#2980b9","#c0392b","#f39c12"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: "سوخت - اسفند (رهگشایان ۱)" }
          }
        }
      },
      "areaTrendChartRahgoshayan": {
        type: "line",
        data: rahgoshayanLineData,
        options: {
          responsive: true,
          plugins: {
            legend: { position: "bottom" },
            title: { 
              display: true,
              text: "نمودار روند سه ماهه (رهگشایان ۱)"
            }
          }
        }
      },
      "efficiencyChartRahgoshayan": {
        type: "bar",
        data: {
          labels: ["GENERATOR NO.1", "GENERATOR NO.2", "MAIN ENGINE #1", "MAIN ENGINE #2", "BOW THRUSTER 1&2"],
          datasets: [{
            label: "راندمان (لیتر/ساعت)",
            data: [18.75, 18.75, 120, 120, 30],
            backgroundColor: ["#1abc9c", "#3498db", "#f39c12", "#c0392b", "#8e44ad"]
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: {
              display: true,
              text: "نمودار راندمان مصرف سوخت (رهگشایان ۱)"
            }
          },
          scales: {
            y: { beginAtZero: true }
          }
        }
      }
    };
  </script>

  <!-- اسکریپت سوییچ تب‌ها و نمایش نمودار -->
  <script>
    function showTab(id) {
      document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelector('.tab[onclick*="' + id + '"]').classList.add('active');
      // تاخیر برای رندر نمودار پس از نمایش تب
      setTimeout(() => {
        document.querySelectorAll("#" + id + " canvas").forEach(c => {
          if (!c.dataset.fixed) {
            const ctx = c.getContext("2d");
            new Chart(ctx, window.chartConfigs[c.id]);
            c.dataset.fixed = "true";
          }
        });
      }, 300);
    }

    // رندر اولیه نمودارها هنگام بارگذاری صفحه
    window.onload = () => {
      document.querySelectorAll("canvas").forEach(c => {
        if (!c.dataset.fixed) {
          const ctx = c.getContext("2d");
          new Chart(ctx, window.chartConfigs[c.id]);
          c.dataset.fixed = "true";
        }
      });
    };
  </script>
</body>
</html>
